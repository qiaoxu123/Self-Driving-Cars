1
00:00:13,730 --> 00:00:19,800
In this lesson, we will go over the concept of the vehicle longitudinal dynamics,

2
00:00:19,800 --> 00:00:24,060
and the power train component models needed to generate torques on the tires.

3
00:00:24,060 --> 00:00:25,440
By the end of this video,

4
00:00:25,440 --> 00:00:28,470
you'll be able to: define the balance of

5
00:00:28,470 --> 00:00:32,490
dynamic forces acting on a vehicle in the longitudinal direction,

6
00:00:32,490 --> 00:00:38,285
describe typical power train component models for an internal combustion engine vehicle,

7
00:00:38,285 --> 00:00:41,690
and connect the typical power train component models to

8
00:00:41,690 --> 00:00:45,485
form a full vehicle model for longitudinal motion.

9
00:00:45,485 --> 00:00:47,720
These models will help us build

10
00:00:47,720 --> 00:00:50,780
longitudinal controllers in the next module in this course.

11
00:00:50,780 --> 00:00:52,520
So, let's get started.

12
00:00:52,520 --> 00:00:55,550
The longitudinal vehicle dynamic model is simply

13
00:00:55,550 --> 00:00:59,405
based on the dynamics of the vehicle that generate forward motion.

14
00:00:59,405 --> 00:01:04,015
Here is a typical vehicle longitudinal motion on an inclined road.

15
00:01:04,015 --> 00:01:10,700
The forces acting on the vehicle or the front and rear tire forces Fxf and Fxr.

16
00:01:10,700 --> 00:01:18,160
The aerodynamic drag force F aero and the rolling resistance Rxf and Rxr.

17
00:01:18,160 --> 00:01:24,995
There's also the force due to gravity mg sine alpha where alpha is the local road slope.

18
00:01:24,995 --> 00:01:27,260
Based on Newton's second law,

19
00:01:27,260 --> 00:01:33,760
the longitudinal tire forces of the front and rear tyres Fxf and Fxr,

20
00:01:33,760 --> 00:01:36,620
which come from the vehicle power train must overcome

21
00:01:36,620 --> 00:01:40,565
the resistance forces such as the aerodynamic force F aero,

22
00:01:40,565 --> 00:01:43,475
the gravitational force mg sine alpha,

23
00:01:43,475 --> 00:01:48,995
and the rolling resistance of the front and rear tires, Rxf and Rxr.

24
00:01:48,995 --> 00:01:52,790
The imbalance between these forces defines the acceleration of

25
00:01:52,790 --> 00:01:57,340
the vehicle in the longitudinal direction denoted by X double dot.

26
00:01:57,340 --> 00:02:03,470
The longitudinal dynamics equations can further be simplified by grouping the front

27
00:02:03,470 --> 00:02:09,260
and rear tire forces as Fx and the front and rear rolling resistance forces as Rx.

28
00:02:09,260 --> 00:02:12,690
Further, we can assume moderate road inclinations,

29
00:02:12,690 --> 00:02:16,010
which means that the small angle approximation can be applied.

30
00:02:16,010 --> 00:02:20,060
So, the sine of alpha is approximately equal to alpha.

31
00:02:20,060 --> 00:02:24,935
Our basic dynamic model for the longitudinal motion of a car is then as

32
00:02:24,935 --> 00:02:30,585
follows: Mx double dot is equal to Fx minus F aero,

33
00:02:30,585 --> 00:02:34,485
minus Rx, and minus mg alpha.

34
00:02:34,485 --> 00:02:37,790
Here MX double dot is the inertial term that

35
00:02:37,790 --> 00:02:41,185
defines the vehicles longitudinal acceleration.

36
00:02:41,185 --> 00:02:45,170
Fx is the traction force generated by the power train,

37
00:02:45,170 --> 00:02:47,285
and F aero, Rx,

38
00:02:47,285 --> 00:02:51,800
and mg alpha make up the total resistance forces acting on the vehicle,

39
00:02:51,800 --> 00:02:54,515
which we'll refer to as F load.

40
00:02:54,515 --> 00:02:59,480
Note that we still need to develop models for each of the forces in this equation and

41
00:02:59,480 --> 00:03:01,820
define how they connect to the throttle and

42
00:03:01,820 --> 00:03:05,065
break inputs that our autonomous system will apply.

43
00:03:05,065 --> 00:03:06,630
Through the rest of this video,

44
00:03:06,630 --> 00:03:08,245
we will develop these models,

45
00:03:08,245 --> 00:03:13,370
and we'll go into more depth in subsequent videos on specific aspects such as,

46
00:03:13,370 --> 00:03:16,375
power train, break and tyre force modelling.

47
00:03:16,375 --> 00:03:20,210
Let's now build some simple models for the resistance forces on the car.

48
00:03:20,210 --> 00:03:23,570
A vehicles longitudinal motion is

49
00:03:23,570 --> 00:03:28,490
resisted by aerodynamic drag rolling resistance and the force due to gravity.

50
00:03:28,490 --> 00:03:31,540
We've already built a model for the effects of gravity,

51
00:03:31,540 --> 00:03:33,920
so let's move on to aerodynamics.

52
00:03:33,920 --> 00:03:38,944
The aerodynamic drag can typically be modeled as dependent on air density,

53
00:03:38,944 --> 00:03:40,895
frontal area of the vehicle,

54
00:03:40,895 --> 00:03:42,955
the vehicles coefficient of friction,

55
00:03:42,955 --> 00:03:45,015
and the current speed of the vehicle.

56
00:03:45,015 --> 00:03:48,680
Given a fixed vehicle shape and standard atmospheric pressure,

57
00:03:48,680 --> 00:03:54,890
we can define a simple lumped coefficient of the aerodynamic drag C alpha,

58
00:03:54,890 --> 00:03:59,240
and multiply it by the velocity squared to get the drag force.

59
00:03:59,240 --> 00:04:04,630
For rolling resistance, we have a similar model which can depend on the normal force,

60
00:04:04,630 --> 00:04:07,955
tire pressure and characteristics, and vehicle speed.

61
00:04:07,955 --> 00:04:09,650
If we again assume

62
00:04:09,650 --> 00:04:14,045
nominal operating conditions and drop the second-order terms for simplicity,

63
00:04:14,045 --> 00:04:17,180
we can arrive at a linear rolling resistance model,

64
00:04:17,180 --> 00:04:22,105
where Cr1 is our linear rolling resistance coefficient.

65
00:04:22,105 --> 00:04:24,410
In both cases, these are

66
00:04:24,410 --> 00:04:28,520
basic approximate models that are a good starting point for controller design.

67
00:04:28,520 --> 00:04:32,300
In practice, the fidelity of the model used depends on

68
00:04:32,300 --> 00:04:36,560
the accuracy required of the controller or the simulation environment.

69
00:04:36,560 --> 00:04:40,640
Now that we have models for the resistance forces acting on the vehicle,

70
00:04:40,640 --> 00:04:45,530
let's look more closely at the dry forces created by the vehicles power train.

71
00:04:45,530 --> 00:04:50,900
The force generated to conquer the resistance forces comes from the power train,

72
00:04:50,900 --> 00:04:55,295
and can be modeled as being generated by a series of components.

73
00:04:55,295 --> 00:05:00,335
The power generated due to the combustion in gasoline, or diesel engines,

74
00:05:00,335 --> 00:05:05,570
or electrochemical reactions in batteries for electric vehicles or hybrid vehicles,

75
00:05:05,570 --> 00:05:09,590
flow through the drive line and ultimately provide a torque to the wheels.

76
00:05:09,590 --> 00:05:15,140
The drive line refers to the sequence of components between the engine and the wheels,

77
00:05:15,140 --> 00:05:18,500
and typically includes the torque converter or clutch,

78
00:05:18,500 --> 00:05:20,630
the transmission or gearbox,

79
00:05:20,630 --> 00:05:22,040
and finally the differential.

80
00:05:22,040 --> 00:05:25,130
The breaks are also included in this figure,

81
00:05:25,130 --> 00:05:29,210
and can provide a resistance torque on the wheel hub directly.

82
00:05:29,210 --> 00:05:34,340
Because of the direct connection between wheel and engine when in gear,

83
00:05:34,340 --> 00:05:36,770
it is possible to model the relationship between

84
00:05:36,770 --> 00:05:40,795
the wheel speed and the engine speed as a kinematic constraint.

85
00:05:40,795 --> 00:05:44,030
The wheel rotation speed omega w

86
00:05:44,030 --> 00:05:48,560
varies according to the torque converters turbine speed omega t,

87
00:05:48,560 --> 00:05:51,080
through several gear ratios including

88
00:05:51,080 --> 00:05:55,190
the torque converter, transmission, and differential.

89
00:05:55,190 --> 00:05:58,385
This combined gear ratio is denoted GR

90
00:05:58,385 --> 00:06:01,910
and changes depending on the state of the power train components.

91
00:06:01,910 --> 00:06:05,450
So, what gear the transmission is in, for example?

92
00:06:05,450 --> 00:06:11,030
The engine speed is equal to the turbine speed and can be used interchangeably.

93
00:06:11,030 --> 00:06:14,720
The vehicle forward velocity is also proportional to

94
00:06:14,720 --> 00:06:18,265
the wheel angular speed times the tire effective radius,

95
00:06:18,265 --> 00:06:21,455
which we will mostly model as a fixed tire radius.

96
00:06:21,455 --> 00:06:25,760
It can however be modified for higher fidelity modeling based on

97
00:06:25,760 --> 00:06:30,535
expected deformation of the tire due to forces and moments on the car.

98
00:06:30,535 --> 00:06:33,340
Assuming the effective tire radius is known,

99
00:06:33,340 --> 00:06:37,970
we can write that the longitudinal vehicle speed x dot is equal to

100
00:06:37,970 --> 00:06:43,370
the tyre radius R effective times the wheel speed omega w. So,

101
00:06:43,370 --> 00:06:45,800
if we can model the dynamics of the engine speed,

102
00:06:45,800 --> 00:06:50,765
we can then relate it directly to the vehicle speed through these kinematic constraints.

103
00:06:50,765 --> 00:06:54,350
This expression for velocity can be differentiated to give

104
00:06:54,350 --> 00:06:59,470
longitudinal acceleration in terms of the engine rotational acceleration.

105
00:06:59,470 --> 00:07:02,870
Now, let's go through the dynamic equations of each of

106
00:07:02,870 --> 00:07:08,180
the power train components to build a dynamic model of the overall power train.

107
00:07:08,180 --> 00:07:13,730
The wheel is the intersection between the torques coming from the power train side,

108
00:07:13,730 --> 00:07:17,570
and the torques acting from the external resistance forces.

109
00:07:17,570 --> 00:07:20,870
Therefore, we can present the wheel dynamics by

110
00:07:20,870 --> 00:07:24,560
the following first-order differential equation: to calculate

111
00:07:24,560 --> 00:07:27,245
the wheel angular speed omega w.

112
00:07:27,245 --> 00:07:31,925
Here T wheel is the wheel torque generated by the power train.

113
00:07:31,925 --> 00:07:35,915
We can solve for the wheel torque using this differential equation,

114
00:07:35,915 --> 00:07:38,710
if the tyre force Fx is known,

115
00:07:38,710 --> 00:07:44,015
which can be calculated from the vehicle longitudinal dynamics derived earlier.

116
00:07:44,015 --> 00:07:48,290
The wheel torque T wheel is actually the combination of

117
00:07:48,290 --> 00:07:52,299
the brake torque and the output torque of the transmission or gearbox,

118
00:07:52,299 --> 00:07:54,185
as is visible on the left.

119
00:07:54,185 --> 00:07:57,020
We'll look at break modelling in a later video,

120
00:07:57,020 --> 00:08:00,020
and we'll focus on the power train for this video.

121
00:08:00,020 --> 00:08:06,080
The torque applied to the transmission is referred to as the turbine torque T sub t,

122
00:08:06,080 --> 00:08:10,205
and comes from the torque converter which couples the engine to the transmission.

123
00:08:10,205 --> 00:08:13,910
Recall the turbine angular speed omega T of

124
00:08:13,910 --> 00:08:19,235
the torque converter is related to the wheel angular speed by the gear ratio GR.

125
00:08:19,235 --> 00:08:23,360
We can therefore define a similar ordinary differential equation for

126
00:08:23,360 --> 00:08:27,710
the turbine angular speed as our transmission dynamic model.

127
00:08:27,710 --> 00:08:33,980
Also, we can substitute in our expression for T wheel from the wheel dynamics model.

128
00:08:33,980 --> 00:08:36,470
Next up is the torque converter.

129
00:08:36,470 --> 00:08:38,450
In practice, that torque converter has

130
00:08:38,450 --> 00:08:41,750
complex dynamics because it has multiple and pillars and

131
00:08:41,750 --> 00:08:43,970
fluid going through the impeller which

132
00:08:43,970 --> 00:08:47,665
allows for the coupling and decoupling of the engine.

133
00:08:47,665 --> 00:08:50,080
When coupled, we can assume

134
00:08:50,080 --> 00:08:53,545
the turbine angular speed is almost the same as the engine speed.

135
00:08:53,545 --> 00:08:57,850
Therefore, we replace the turbine speed with the engine angular speed in

136
00:08:57,850 --> 00:09:02,855
the transmission model to form a dynamic model that includes the torque converter.

137
00:09:02,855 --> 00:09:08,620
Finally, we can define the full power train model by including the engine dynamics.

138
00:09:08,620 --> 00:09:13,030
The engine inertia term is equal to the torque produced by the engine from

139
00:09:13,030 --> 00:09:17,470
the combustion process minus the turbine torque from the torque converter,

140
00:09:17,470 --> 00:09:21,530
which still includes a dependence on the tire force Fx.

141
00:09:21,530 --> 00:09:26,980
If we return to the original longitudinal vehicle model and solve for the tire force,

142
00:09:26,980 --> 00:09:30,875
we see a further dependence on the engine rotational acceleration,

143
00:09:30,875 --> 00:09:33,840
which can be grouped with the terms from the engine,

144
00:09:33,840 --> 00:09:36,620
transmission, and wheel inertias.

145
00:09:36,620 --> 00:09:40,715
We now form the complete power train model and define

146
00:09:40,715 --> 00:09:46,675
an effective power train inertia as the sum of all the individual component inertias,

147
00:09:46,675 --> 00:09:48,775
which we'll call J sub

148
00:09:48,775 --> 00:09:54,190
e. The power train model simplifies down to the following equation,

149
00:09:54,190 --> 00:09:57,530
which balances the engine torque T engine with

150
00:09:57,530 --> 00:10:00,410
the total load torque T load to drive

151
00:10:00,410 --> 00:10:04,700
the engine acceleration and thereby the vehicle longitudinal acceleration.

152
00:10:04,700 --> 00:10:08,630
This final equation achieves what we set out to do,

153
00:10:08,630 --> 00:10:12,470
as it shows the dynamics of the whole power train system all the way

154
00:10:12,470 --> 00:10:17,060
from the engine to the external resistance forces acting on the vehicle.

155
00:10:17,060 --> 00:10:22,415
We do still need to relate the engine torque to the accelerator pedal position,

156
00:10:22,415 --> 00:10:25,315
and the brake torque to the brake pedal position,

157
00:10:25,315 --> 00:10:28,750
which we'll cover in the video on Actuator Modelling.

158
00:10:28,750 --> 00:10:31,160
To summarize in this video,

159
00:10:31,160 --> 00:10:37,385
we defined a compact models for the vehicle longitudinal dynamics and resistance forces.

160
00:10:37,385 --> 00:10:43,220
We described typical power train components and derived dynamic models for them,

161
00:10:43,220 --> 00:10:47,000
and we combine these subsystems enforce models into

162
00:10:47,000 --> 00:10:50,390
a single unified longitudinal dynamic model

163
00:10:50,390 --> 00:10:53,375
which is suitable for speed control development.

164
00:10:53,375 --> 00:10:55,010
In the next video,

165
00:10:55,010 --> 00:10:58,730
we will investigate the details of lateral dynamics in modelling

166
00:10:58,730 --> 00:11:03,810
to aid in the development of steering controllers. See you then.